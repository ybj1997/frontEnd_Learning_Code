//引入Axios核心工具文件
let axios = require('./Axios');

function createInstance(config){
    //实例化一个对象
    let Obj = new Axios(config);
    //instance是一个函数，可以使用instance({})调用
    let instance = Axios.prototype.request.bind(Obj);
    Object.keys(Axios.prototype).forEach(key=>{
        instance[key] = Axios.prototype[key].bind(Obj);
    });
    Object.keys(Obj).forEach(key => {
        instance[key] = Obj[key];
    });
    return instance;
}

var axios = createInstance();

//为axios添加属性
axios.Axios = Axios;

//暴露axios
module.exports = axios;

window.axios = axios;